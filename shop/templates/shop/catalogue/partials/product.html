{% load display_tags %}
{% load i18n %}
{% load image_tags %}
{% load reviews_tags %}

{% block product %}
    <article class="product_pod">
        {% comment %}
        {% block product_image %}
            <div class="image_container w-100">
                {% with image=product.primary_image %}
                    {% shop_thumbnail image.original "x155" upscale=False as thumb %}
                    <a href="{{ product.get_absolute_url }}">

                        <img src="{{ thumb.url }}" alt="{{ product.get_title }}" class="img-thumbnail w-auto mx-auto my-0" >
    
                    </a>
                {% endwith %}
            </div>
        {% endblock %}
        {% endcomment %}


        {% block product_image %}
        <div class="image_container w-100" style="width: 300px; height: 200px; position: relative;">
            {% with image=product.primary_image %}
                {% shop_thumbnail image.original "x155" upscale=False as thumb %}
                <a href="{{ product.get_absolute_url }}" style="display: block; position: absolute; top: 0; bottom: 0; left: 0; right: 0;">
    
                    <img src="{{ thumb.url }}" alt="{{ product.get_title }}" class="img-thumbnail w-auto mx-auto my-0" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        
                </a>
            {% endwith %}
            <div style="position: absolute; top: 0; bottom: 0; left: 0; right: 0; background-image: url('/path/to/frame/image.jpg'); background-size: cover;"></div>
        </div>
        {% endblock %}
    

        {% block product_review %}
            {% iffeature "reviews" %}
                <p class="star-rating {{ product.rating|as_stars }}">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </p>
            {% endiffeature %}
        {% endblock %}



        {% block product_title %}
        <div class="product-title-container">
            <h3 class="mt-3">
                <a href="{{ product.get_absolute_url }}" title="{{ product.get_title }}" class="product-name">
                    {{ product.get_title|truncatewords:4 }}
                </a>
            </h3>
        </div>
        {% endblock %}
        
        <style>
        .product-title-container {
            width: 100%;
            height: 80px;
        }
        
        .product-name {
            font-size: 20px;
            font-weight: 400;
            /* text-transform: uppercase; */
            display: inline-block;
            width: 100%;
            height: 100%;
            /* text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden; */
        }
        </style>



        {% block product_price %}
            <div class="product_price w-100">
                {% include "shop/catalogue/partials/stock_record.html" %}
                {% if not product.is_parent and not product.has_options %}
                    {% include "shop/catalogue/partials/add_to_basket_form_compact.html" %}
                {% endif %}
            </div>
        {% endblock %}
    </article>
{% endblock %}
